<!DOCTYPE html>
<html>
<head>
	<title>TW_homework4</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link href="style.css" type="text/css" rel="stylesheet" media="screen"/>
	<script src="jquery-2.1.4.min.js"></script>
	<script type="text/javascript">
		var bookmarks = new Array();

		$(document).ready(function(){
  			$.getJSON("bookmarks.json", function(data){
  				$.each(data,function(i,item){
  					bookmarks.push(item);
  					var time = timeconvert(item.created);
  					$("ul").append("<li><p class='title'>"+item.title+"</p><p class='time'><i>"+time+"</i></p></li>");
  				});
  			});
		});

		$(document).ready(function(){
  			$(".search").on("input",function(){  
   				$("ul").html("");
   				searchfor($("input").val());
			});
  		});

		function searchfor (keyword) {
			var reg = new RegExp(keyword);
			$.each(bookmarks,function(i,item){
				if(item.title.match(reg))
				{
					var time = timeconvert(item.created);
					$("ul").append("<li><p class='title'>"+item.title+"</p><p class='time'><i>"+time+"</i></p></li>");
				}
			});

		}

		function timeconvert (timestamp) {
			var time = new Date();
			time.setTime(timestamp * 1000);
			var month = time.getMonth()+1;
			return "Created @ "+time.getFullYear()+"-"+month+"-"+time.getDate();
		}

	</script>
</head>
<body>
	<div class="search_div">
	    <input type="text" placeholder="Search for" name="search" class="search"/>
	</div>
	<div class="res">
		<ul>
		</ul>
	</div>
</body>
</html>